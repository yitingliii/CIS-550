{"ast":null,"code":"var _jsxFileName = \"/Users/yiting/Desktop/Exercise3_Solution (1)/client/src/pages/SearchPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./SearchPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchPage() {\n  _s();\n  const [term, setTerm] = useState(\"\");\n  const [limit, setLimit] = useState(5);\n  const [books, setBooks] = useState([]);\n  const [numResults, setNumResults] = useState(0);\n  const handleSubmit = async e => {\n    e.preventDefault(); // Prevent form submission\n    const url = `https://www.googleapis.com/books/v1/volumes?q=intitle:${term}&maxResults=${limit}`;\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      setBooks(data.items || []);\n      setNumResults(data.items ? data.items.length : 0);\n    } catch (error) {\n      console.error(\"Error fetching books:\", error);\n      alert(\"Error fetching books. Please try again.\");\n    }\n  };\n  const createRow = book => {\n    var _volumeInfo$imageLink, _volumeInfo$authors;\n    const volumeInfo = book.volumeInfo || {};\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: ((_volumeInfo$imageLink = volumeInfo.imageLinks) === null || _volumeInfo$imageLink === void 0 ? void 0 : _volumeInfo$imageLink.thumbnail) || \"\",\n          alt: volumeInfo.title || \"N/A\",\n          className: \"img-fluid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-9\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: volumeInfo.title || \"No Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Author:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 14\n          }, this), \" \", ((_volumeInfo$authors = volumeInfo.authors) === null || _volumeInfo$authors === void 0 ? void 0 : _volumeInfo$authors.join(\", \")) || \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Pages:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 14\n          }, this), \" \", volumeInfo.pageCount || \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Rating:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 14\n          }, this), \" \", volumeInfo.averageRating || \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Published Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 14\n          }, this), \" \", volumeInfo.publishedDate || \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, book.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"title\",\n      className: \"my-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome to Search Page!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"search-form\",\n      className: \"d-flex justify-content-center mb-4\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control me-2\",\n        type: \"text\",\n        id: \"search-term\",\n        placeholder: \"Search Book...\",\n        value: term,\n        onChange: e => setTerm(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"search-limit\",\n        className: \"form-select me-2\",\n        value: limit,\n        onChange: e => setLimit(e.target.value),\n        children: [5, 10, 15, 30, 50, 100].map(value => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: value,\n          children: [value, \" results\"]\n        }, value, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-outline-success\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      id: \"submit-error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"message\",\n      className: \"mb-4\",\n      children: [\"Showing \", /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"num-results\",\n        children: numResults\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), \" result(s).\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"content\",\n      className: \"row justify-content-center\",\n      children: books.map(createRow)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"footer\",\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Yiting Li Final Project ITP 303 \\xA9 2024\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchPage, \"0r13bn1wrAmbK/ar9h24nEyDM9k=\");\n_c = SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useState","SearchPage","term","setTerm","limit","setLimit","books","setBooks","numResults","setNumResults","handleSubmit","e","preventDefault","url","response","fetch","data","json","items","length","error","console","alert","createRow","book","volumeInfo","imageLinks","thumbnail","title","authors","join","pageCount","averageRating","publishedDate","id","target","value","map"],"sources":["/Users/yiting/Desktop/Exercise3_Solution (1)/client/src/pages/SearchPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./SearchPage.css\";\n\nexport default function SearchPage() {\n  const [term, setTerm] = useState(\"\");\n  const [limit, setLimit] = useState(5);\n  const [books, setBooks] = useState([]);\n  const [numResults, setNumResults] = useState(0);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault(); // Prevent form submission\n    const url = `https://www.googleapis.com/books/v1/volumes?q=intitle:${term}&maxResults=${limit}`;\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      setBooks(data.items || []);\n      setNumResults(data.items ? data.items.length : 0);\n    } catch (error) {\n      console.error(\"Error fetching books:\", error);\n      alert(\"Error fetching books. Please try again.\");\n    }\n  };\n\n  const createRow = (book) => {\n    const volumeInfo = book.volumeInfo || {};\n    return (\n      <div className=\"row mb-4\" key={book.id}>\n        <div className=\"col-md-3\">\n          <img\n            src={volumeInfo.imageLinks?.thumbnail || \"\"}\n            alt={volumeInfo.title || \"N/A\"}\n            className=\"img-fluid\"\n          />\n        </div>\n        <div className=\"col-md-9\">\n          <h3>{volumeInfo.title || \"No Title\"}</h3>\n          <p><strong>Author:</strong> {volumeInfo.authors?.join(\", \") || \"N/A\"}</p>\n          <p><strong>Pages:</strong> {volumeInfo.pageCount || \"N/A\"}</p>\n          <p><strong>Rating:</strong> {volumeInfo.averageRating || \"N/A\"}</p>\n          <p><strong>Published Date:</strong> {volumeInfo.publishedDate || \"N/A\"}</p>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"container text-center\">\n      <div id=\"title\" className=\"my-4\">\n        <h1>Welcome to Search Page!</h1>\n      </div>\n\n      <form id=\"search-form\" className=\"d-flex justify-content-center mb-4\" onSubmit={handleSubmit}>\n        <input\n          className=\"form-control me-2\"\n          type=\"text\"\n          id=\"search-term\"\n          placeholder=\"Search Book...\"\n          value={term}\n          onChange={(e) => setTerm(e.target.value)}\n        />\n        <select\n          id=\"search-limit\"\n          className=\"form-select me-2\"\n          value={limit}\n          onChange={(e) => setLimit(e.target.value)}\n        >\n          {[5, 10, 15, 30, 50, 100].map((value) => (\n            <option key={value} value={value}>\n              {value} results\n            </option>\n          ))}\n        </select>\n        <button type=\"submit\" className=\"btn btn-outline-success\">Submit</button>\n      </form>\n\n      <small id=\"submit-error\"></small>\n\n      <div id=\"message\" className=\"mb-4\">\n        Showing <span id=\"num-results\">{numResults}</span> result(s).\n      </div>\n\n      <div id=\"content\" className=\"row justify-content-center\">\n        {books.map(createRow)}\n      </div>\n\n      <div id=\"footer\" className=\"mt-4\">\n        <p>Yiting Li Final Project ITP 303 &copy; 2024</p>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}