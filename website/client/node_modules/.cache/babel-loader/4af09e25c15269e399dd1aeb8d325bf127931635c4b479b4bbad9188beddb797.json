{"ast":null,"code":"var _jsxFileName = \"/Users/jp/Downloads/2024Fall/CIS 5500/CIS-550/website/client/src/pages/SoundPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nexport default function TopAudioProfilesByGenre() {\n  _s();\n  const [data, setData] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  // Fetch data on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(\"http://localhost:8080/topAudioProfiles\");\n        if (!response.ok) {\n          throw new Error(`Failed to fetch data. Status: ${response.status}`);\n        }\n        const result = await response.json();\n        console.log(\"Fetched Data:\", result); // Debug API response\n        setData(result);\n      } catch (err) {\n        console.error(\"Error fetching data:\", err);\n        setError(\"Failed to load audio profiles by genre.\");\n      }\n    };\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"20px\",\n      maxWidth: \"800px\",\n      margin: \"0 auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, \"Top Audio Profiles by Genre\"), error && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, error), data.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, data.reduce((acc, curr, index, arr) => {\n    // Group data by genre\n    if (!acc[curr.genre_name]) {\n      acc[curr.genre_name] = [];\n    }\n    acc[curr.genre_name].push(curr);\n\n    // Render each genre group\n    if (index === arr.length - 1) {\n      return Object.entries(acc).map(_ref => {\n        let [genre, profiles] = _ref;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: genre,\n          style: {\n            marginBottom: \"20px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 19\n          }\n        }, genre), /*#__PURE__*/React.createElement(\"table\", {\n          border: \"1\",\n          style: {\n            width: \"100%\",\n            textAlign: \"left\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"thead\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }\n        }, \"Valence\"), /*#__PURE__*/React.createElement(\"th\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }\n        }, \"Energy\"), /*#__PURE__*/React.createElement(\"th\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }\n        }, \"Danceability\"), /*#__PURE__*/React.createElement(\"th\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }\n        }, \"Profile Count\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }\n        }, profiles.map((profile, i) => /*#__PURE__*/React.createElement(\"tr\", {\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 27\n          }\n        }, profile.valence.toFixed(2)), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 27\n          }\n        }, profile.energy.toFixed(2)), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 27\n          }\n        }, profile.danceability.toFixed(2)), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 27\n          }\n        }, profile.profile_count))))));\n      });\n    }\n    return acc;\n  }, {})) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"No data available.\"));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"navbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:3000/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, \"HomePage\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:3000/search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \"Search Page\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:3000/genre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, \"Genre Page\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:3000/collaboration\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \"Collaboration\")))));\n}\n_s(TopAudioProfilesByGenre, \"Sn8JI/qyNvYdvBYT/lUHpFvZwWQ=\");\n_c = TopAudioProfilesByGenre;\nvar _c;\n$RefreshReg$(_c, \"TopAudioProfilesByGenre\");","map":{"version":3,"names":["React","useEffect","useState","TopAudioProfilesByGenre","data","setData","error","setError","fetchData","response","fetch","ok","Error","status","result","json","console","log","err","padding","maxWidth","margin","color","length","reduce","acc","curr","index","arr","genre_name","push","Object","entries","map","genre","profiles","marginBottom","width","textAlign","profile","i","valence","toFixed","energy","danceability","profile_count"],"sources":["/Users/jp/Downloads/2024Fall/CIS 5500/CIS-550/website/client/src/pages/SoundPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nexport default function TopAudioProfilesByGenre() {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  // Fetch data on component mount\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(\"http://localhost:8080/topAudioProfiles\");\n        if (!response.ok) {\n          throw new Error(`Failed to fetch data. Status: ${response.status}`);\n        }\n        const result = await response.json();\n        console.log(\"Fetched Data:\", result); // Debug API response\n        setData(result);\n      } catch (err) {\n        console.error(\"Error fetching data:\", err);\n        setError(\"Failed to load audio profiles by genre.\");\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <div style={{ padding: \"20px\", maxWidth: \"800px\", margin: \"0 auto\" }}>\n      <h1>Top Audio Profiles by Genre</h1>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n      {data.length > 0 ? (\n        <div>\n          {data.reduce((acc, curr, index, arr) => {\n            // Group data by genre\n            if (!acc[curr.genre_name]) {\n              acc[curr.genre_name] = [];\n            }\n            acc[curr.genre_name].push(curr);\n\n            // Render each genre group\n            if (index === arr.length - 1) {\n              return Object.entries(acc).map(([genre, profiles]) => (\n                <div key={genre} style={{ marginBottom: \"20px\" }}>\n                  <h2>{genre}</h2>\n                  <table border=\"1\" style={{ width: \"100%\", textAlign: \"left\" }}>\n                    <thead>\n                      <tr>\n                        <th>Valence</th>\n                        <th>Energy</th>\n                        <th>Danceability</th>\n                        <th>Profile Count</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {profiles.map((profile, i) => (\n                        <tr key={i}>\n                          <td>{profile.valence.toFixed(2)}</td>\n                          <td>{profile.energy.toFixed(2)}</td>\n                          <td>{profile.danceability.toFixed(2)}</td>\n                          <td>{profile.profile_count}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              ));\n            }\n\n            return acc;\n          }, {})}\n        </div>\n      ) : (\n        <p>No data available.</p>\n      )}\n    </div>\n  );\n\n\n\n  return (\n    <div>\n\n      {/* Navigation Bar */}\n      {/* 不要动 */}\n      <div id=\"navbar\">\n        <ul>\n          <li><a href=\"http://localhost:3000/\">HomePage</a></li>\n          <li><a href=\"http://localhost:3000/search\">Search Page</a></li>\n          <li><a href=\"http://localhost:3000/genre\">Genre Page</a></li>\n          <li><a href=\"http://localhost:3000/collaboration\">Collaboration</a></li>\n        </ul>\n      </div>\n\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}